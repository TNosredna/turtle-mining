-- To avoid dealing with namespaces and imported scripts not
-- being able to access local variables, I've decided to inject
-- the source code when it's loaded on the filesystem.
--INJECT/turtleUtils


-- START OF LOCAL SCRIPT
fs.delete(logFileName);
print ("How many blocks down should the station roof be located? (Z - 13 is normal)");
z = io.read();
z = tonumber(z);

print ("What diameter of station should be built? (5 is normal)");
d = io.read();
d = tonumber(d);

print ("What height of station should be built? (3 is normal)");
h = io.read();
h = tonumber(h);

function moveToTopOfShaft(height)
    for i=1,height do
        turtle.up();
    end;
    io.read();
    if (math.fmod(height, 2) == 0) then
        turtle.turnRight();
    elseif (math.fmod(height, 3) == 0) then
        turtle.turnRight();
        turtle.turnRight();
    elseif (math.fmod(height, 4) == 0) then
        turtle.turnRight();
    elseif (math.fmod(height, 5) == 0) then
        turtle.turnRight();
        turtle.turnRight();
    end;
end;

shell.run("digShaft", z);
moveToTopOfShaft(z);
io.read();
shell.run("prepareShaft", z);
--shell.run("digStation", d, h);
--shell.run("prepareStation", d, h);